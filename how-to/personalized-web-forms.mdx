---
title: "Personalized Web Forms with Signed Links"
description: "Create web forms that remember each customer's progress using unique IDs in signed URLs"
---

## Why use this?

When you host an HTML form in Pinkfish file storage, you can generate personalized signed links for each customer that include a unique ID as a query parameter. The form reads that ID from the URL and uses it to save and retrieve the customer's responses from a datastore. This means customers can fill out a form over multiple sessions — their progress is saved and pre-populated when they return.

## Example Use Cases

- **Customer intake forms** — Send each customer a personalized link. They can fill out the form at their own pace, and their answers are saved automatically when they return.

- **Application forms** — Generate a unique link per applicant so they can save progress and come back to complete their submission.

- **Surveys with follow-up** — Send personalized survey links where responses are tied to a specific customer record for follow-up actions.

## How It Works

1. You create an HTML form page and save it in a file storage collection
2. When you want to share the form with a customer, you generate a signed link that includes a unique customer ID (e.g. `?customerId=JohnSmith-90210`)
3. You email that link to the customer
4. When the customer opens the link, the HTML page reads the customer ID from the URL
5. The page checks the datastore for an existing entry with that ID — if found, it pre-populates the form
6. When the customer submits, the page saves their responses to the datastore using that ID as the key
7. If the customer returns later using the same link, their previous answers are already filled in

## Prerequisites

- A **file storage collection** to host the HTML form
- A **datastore collection** to store customer responses
- An **agent** (Chat Mode or Workflow) to generate signed links

## Step 1: Create the HTML Form

Ask your agent in Guided Mode to build the HTML page. Include these instructions in your prompt:

```
Build an HTML form page that will be hosted in Pinkfish file storage. The page must:

1. On load, read the "customerId" from the URL query string using:
   new URLSearchParams(window.location.search).get('customerId')

2. If a customerId is present, call the datastore to look up an existing
   record with that key

3. If a record exists, pre-populate all form fields with the saved data

4. When the user submits the form, save (or update) a datastore record
   using the customerId as the key

5. Show a success message after saving

Use the datastore skill with collectionId: [YOUR_DATASTORE_COLLECTION_ID]

Save the HTML file to file storage collection: [YOUR_FILESTORAGE_COLLECTION_ID]
with the filename: customer-form.html

The form fields are: [list your fields, e.g. First Name, Last Name, Email,
Phone, Address, Notes]
```

<Tip>
Replace `[YOUR_DATASTORE_COLLECTION_ID]` and `[YOUR_FILESTORAGE_COLLECTION_ID]` with your actual collection IDs. You can find these in your Pinkfish dashboard under Data Collections.
</Tip>

## Step 2: Set Up Your Agent to Generate Signed Links

Add these instructions to your agent's system prompt so it knows how to generate personalized links:

```
When I ask you to generate a form link for a customer:

1. Create a unique customer ID by combining their name and zip code
   (e.g. "JohnSmith-90210") — no spaces, use hyphens

2. Use the filestorage skill to get a signed URL for the file
   "customer-form.html" in collection [YOUR_FILESTORAGE_COLLECTION_ID]:
   - Set file_links_expire_in_days to 7
   - Set query_params to {"customerId": "<the-unique-id>"}

3. Return the signed URL so I can email it to the customer
```

## Step 3: Generate and Share Links

Once your agent is configured, you can say something like:

> "Generate a form link for John Smith, zip 90210"

The agent will return a signed URL like:

```
https://.../files/{collectionId}/customer-form.html?signed-key=xxx&customerId=JohnSmith-90210
```

Email this link to your customer. They can open it, fill out the form, and come back later to continue where they left off.

## What the Customer Experiences

1. They receive an email with a personalized link
2. They click the link and see the form — empty on first visit, pre-filled on return visits
3. They fill out fields and click Submit — their responses are saved
4. If they return later using the same link, everything they entered before is already there

## Summary

| Component | Purpose |
|-----------|---------|
| HTML form page | Hosted in **file storage** — reads customer ID from URL, loads/saves data |
| Customer responses | Stored in a **datastore** collection, keyed by customer ID |
| Signed link with query params | Generated via filestorage skill with `query_params` containing the customer ID |
| Agent system prompt | Teaches the agent how to generate personalized signed links on request |
