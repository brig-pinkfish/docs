---
title: "Discovery"
description: "Find tools using natural language"
---

Both tools live on `/pinkfish-sidekick`. For full parameter schemas, see the [Pinkfish Workflow Building server reference](/api-reference/mcp-servers/embedded/pinkfish-sidekick).

1. **`capabilities_discover`** — Describe the task; get tools and connections
2. **`capability_details`** — Pass tool names; get full parameter schemas

## Discover Capabilities

```bash
curl -s -X POST "https://mcp.app.pinkfish.ai/pinkfish-sidekick" \
  -H "Authorization: Bearer $PINKFISH_TOKEN" \
  -H "Content-Type: application/json" \
  -H "Accept: application/json" \
  -d '{
    "jsonrpc": "2.0",
    "method": "tools/call",
    "params": {
      "name": "capabilities_discover",
      "arguments": {
        "request": "search my gmail for unread emails"
      }
    },
    "id": 1
  }'
```

**Parameters:**

| Parameter | Required | Description                                                                                     |
| --------- | -------- | ----------------------------------------------------------------------------------------------- |
| `request` | Yes      | Natural language description of the task                                                        |
| `types`   | No       | Filter results: `["tool"]`, `["connection"]`, `["resource"]`, `["agentSkill"]`, or combinations |
| `context` | No       | `"workflow-creation"` or `"agent-execution"` — filters available skills                         |

**Response:**

```json
{
  "tools": [
    {
      "name": "gmail_search_emails",
      "serverName": "gmail",
      "hasSkill": false,
      "confidence": 0.95
    }
  ],
  "connections": [
    {
      "name": "My Gmail",
      "id": "abc123-pcid",
      "application": "gmail",
      "confidence": 0.95
    }
  ],
  "resources": [],
  "skills": []
}
```

| Field | Use |
| ----- | --- |
| `tools[].name` | Tool name for `tools/call` |
| `tools[].serverName` | Server path (e.g. `gmail` → `/gmail`) |
| `connections[].id` | PCID for application tools |

## Get Full Details

```bash
curl -s -X POST "https://mcp.app.pinkfish.ai/pinkfish-sidekick" \
  -H "Authorization: Bearer $PINKFISH_TOKEN" \
  -H "Content-Type: application/json" \
  -H "Accept: application/json" \
  -d '{
    "jsonrpc": "2.0",
    "method": "tools/call",
    "params": {
      "name": "capability_details",
      "arguments": {
        "items": ["gmail_search_emails"]
      }
    },
    "id": 1
  }'
```

**Parameters:**

| Parameter | Required | Description                                                                                                                       |
| --------- | -------- | --------------------------------------------------------------------------------------------------------------------------------- |
| `items`   | Yes      | Tool names from discovery (use `tools[].name`, not `serverName`) |
| `types`   | No       | Filter: `["tool"]`, `["connection"]`, `["resource"]`, `["agentSkill"]` |

## Flow

```
1. capabilities_discover("search my gmail for unread emails")
   → tools: [gmail_search_emails], connections: [My Gmail (PCID: abc123)]

2. capability_details(items: ["gmail_search_emails"])
   → Full inputSchema

3. tools/call with PCID from step 1
```
