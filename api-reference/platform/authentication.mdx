---
title: "Authentication"
description: "API keys and runtime tokens"
---

The Platform API uses API keys for authentication. Exchange your API key for a short-lived runtime token (JWT), then use that token as a Bearer token for all MCP Farm requests.

**Token lifetime:** 60 minutes. For long-running agents, call `/auth/token` again before it expires.

## Create an API Key

1. Log in to the Pinkfish web app
2. Go to **Settings → API Keys → Create**
3. Copy the key immediately — it is shown only once

You also need your **Organization ID** from organization settings.

<Warning>New API keys can take up to 60 seconds to activate.</Warning>

## Exchange for Runtime Token

```bash
curl -s -X POST "https://app-api.app.pinkfish.ai/auth/token" \
  -H "X-Api-Key: YOUR_API_KEY" \
  -H "X-Selected-Org: YOUR_ORG_ID" \
  -H "Content-Type: application/json"
```

| Header           | Required | Description           |
| ---------------- | -------- | --------------------- |
| `X-Api-Key`      | Yes      | Account-level API key |
| `X-Selected-Org` | Yes      | Organization ID       |
| `Content-Type`   | Yes      | `application/json`    |

**Response:**

```json
{
  "token": "eyJhbGciOi..."
}
```

Use the `token` value as a Bearer token for all MCP Farm requests.

## Using the Token

```bash
curl -s -X POST "https://mcp.app.pinkfish.ai/<server-path>" \
  -H "Authorization: Bearer $PINKFISH_TOKEN" \
  -H "Content-Type: application/json" \
  -H "Accept: application/json" \
  -d '{ ... }'
```

## Example Script

```bash
#!/bin/bash
API_KEY="<YOUR_API_KEY>"
ORG_ID="<YOUR_ORG_ID>"

TOKEN_RESPONSE=$(curl -s -X POST "https://app-api.app.pinkfish.ai/auth/token" \
  -H "X-Api-Key: ${API_KEY}" \
  -H "X-Selected-Org: ${ORG_ID}" \
  -H "Content-Type: application/json")

export PINKFISH_TOKEN=$(echo "$TOKEN_RESPONSE" | jq -r '.token')
if [ "$PINKFISH_TOKEN" = "null" ] || [ -z "$PINKFISH_TOKEN" ]; then
  echo "Error: Failed to get token"; echo "$TOKEN_RESPONSE" | jq .; exit 1
fi
echo "Token ready. Use: export PINKFISH_TOKEN"
```

<Note>Requires `curl` and `jq`.</Note>
