---
title: "agent-management"
description: "Create, manage, and interact with AI agents and their conversations"
---

**Server path:** `/agent-management` | **Type:** Embedded | **PCID required:** No

Create agents, start conversations, and retrieve artifacts.

For a guided walkthrough, see the [Agent Management guide](/api-reference/platform/agent-management).

## Tools

| Tool | Description |
| --- | --- |
| [`agent_create`](#agent_create) | Create a new agent with instructions and tool access |
| [`agent_list`](#agent_list) | List all accessible agents |
| [`agent_read`](#agent_read) | Get full agent configuration and metadata |
| [`agent_update`](#agent_update) | Update agent fields (partial update) |
| [`agent_invoke`](#agent_invoke) | Send a message to an agent and get a response |
| [`chat_create`](#chat_create) | Create a chat session for an agent |
| [`chat_list`](#chat_list) | List chat sessions, optionally filtered by agent |
| [`chat_reset_conversation`](#chat_reset_conversation) | Clear conversation history in a chat |
| [`chat_list_artifacts`](#chat_list_artifacts) | List artifacts (files) in a chat |

---

## agent_create

Create a new agent with instructions, tool access, and optional workflow bindings.

**Parameters:**

| Parameter | Type | Required | Description |
| --- | --- | --- | --- |
| `name` | string | Yes | Display name for the agent |
| `description` | string | Yes | Description of what the agent does |
| `instructions` | string | Yes | System prompt that guides the agent's behavior |
| `outputSchema` | string | No | JSON schema for structured agent output |
| `servers` | object[] | No | MCP servers and tools to grant access to. Each entry has a `name` (e.g. `"slack"`, `"gmail"`) and `tools` (map of tool names to configs — use `{}` for defaults). Tool names include the server prefix (e.g. `"slack_send_message"`). Use `capabilities_discover` to find valid names. Defaults to `[]`. |
| `workflows` | object[] | No | Workflows the agent can trigger. Each entry has `triggerName`, `workflowName`, `triggerUrl`, and `triggerApiKey`. |
| `bindToWorkflow` | object | No | Bind the agent to a workflow after creation. Has `automationId` and `resourceName`. |

<Note>
  The `datastores`, `filestores`, and `knowledgeBases` parameters exist but are **not yet supported**. Do not use them.
</Note>

Example `servers` value:

```json
[
  { "name": "slack", "tools": { "slack_send_message": {}, "slack_list_channels": {} } },
  { "name": "gmail", "tools": { "gmail_search_emails": {} } }
]
```

**Response fields:**

| Field | Type | Description |
| --- | --- | --- |
| `id` | string | Agent ID |
| `name` | string | Agent name |
| `description` | string | Agent description |
| `instructions` | string | Agent system prompt |
| `createdDate` | string | Creation timestamp |

<Expandable title="inputSchema">

```json
{
  "type": "object",
  "properties": {
    "name": { "type": "string", "minLength": 1, "description": "Display name for the agent" },
    "description": { "type": "string", "description": "Description of what the agent does" },
    "instructions": { "type": "string", "description": "System instructions/prompt for the agent" },
    "outputSchema": { "type": "string", "description": "Optional JSON schema for agent output structure" },
    "servers": {
      "type": "array",
      "description": "MCP servers and tools to grant the agent access to",
      "items": {
        "type": "object",
        "properties": {
          "name": { "type": "string", "description": "Server name" },
          "tools": { "type": "object", "description": "Map of tool names to config objects" }
        }
      },
      "default": []
    },
    "workflows": {
      "type": "array",
      "description": "Workflows the agent can trigger",
      "items": {
        "type": "object",
        "properties": {
          "triggerName": { "type": "string" },
          "workflowName": { "type": "string" },
          "triggerUrl": { "type": "string" },
          "triggerApiKey": { "type": "string" },
          "toolName": { "type": "string" }
        }
      },
      "default": []
    },
    "bindToWorkflow": {
      "type": "object",
      "description": "Bind this agent to a workflow after creation",
      "properties": {
        "automationId": { "type": "string" },
        "resourceName": { "type": "string" }
      }
    }
  },
  "required": ["name", "description", "instructions"]
}
```

</Expandable>

<Expandable title="outputSchema">

```json
{
  "type": "object",
  "properties": {
    "id": { "type": "string", "description": "Agent ID" },
    "name": { "type": "string", "description": "Agent name" },
    "description": { "type": "string", "description": "Agent description" },
    "instructions": { "type": "string", "description": "Agent instructions/prompt" },
    "outputSchema": { "type": "string", "description": "JSON schema for agent output" },
    "servers": { "type": "array", "description": "MCP servers configuration" },
    "workflows": { "type": "array", "description": "Workflows configuration" },
    "createdBy": { "type": "string", "description": "Creator user ID" },
    "createdDate": { "type": "string", "description": "Creation timestamp" },
    "lastModified": { "type": "string", "description": "Last modification timestamp" },
    "responsibleOrg": { "type": "string", "description": "Responsible organization ID" },
    "version": { "type": "number", "description": "Version number" }
  }
}
```

</Expandable>

**Example:**

```bash
curl -s -X POST "https://mcp.app.pinkfish.ai/agent-management" \
  -H "Authorization: Bearer $PINKFISH_TOKEN" \
  -H "Content-Type: application/json" \
  -H "Accept: application/json" \
  -d '{
    "jsonrpc": "2.0",
    "method": "tools/call",
    "params": {
      "name": "agent-management_agent_create",
      "arguments": {
        "name": "Research Assistant",
        "description": "An agent that researches topics and summarizes findings",
        "instructions": "You are a research assistant. When given a topic, search the web and provide a concise summary with sources."
      }
    },
    "id": 1
  }'
```

**Response:**

```json
{
  "structuredContent": {
    "id": "ua_abc123",
    "name": "Research Assistant",
    "description": "An agent that researches topics and summarizes findings",
    "instructions": "You are a research assistant...",
    "createdDate": "2026-02-15T10:00:00Z"
  }
}
```

---

## agent_list

List all agents accessible to the current user.

**Parameters:** None

**Response fields:**

| Field | Type | Description |
| --- | --- | --- |
| `agents` | object[] | Array of agent summaries |
| `agents[].id` | string | Agent ID |
| `agents[].name` | string | Agent name |
| `agents[].description` | string | Agent description |

<Expandable title="outputSchema">

```json
{
  "type": "object",
  "properties": {
    "agents": {
      "type": "array",
      "description": "List of agents",
      "items": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "description": "Agent ID" },
          "name": { "type": "string", "description": "Agent name" },
          "description": { "type": "string", "description": "Agent description" }
        }
      }
    }
  }
}
```

</Expandable>

**Example:**

```bash
curl -s -X POST "https://mcp.app.pinkfish.ai/agent-management" \
  -H "Authorization: Bearer $PINKFISH_TOKEN" \
  -H "Content-Type: application/json" \
  -H "Accept: application/json" \
  -d '{
    "jsonrpc": "2.0",
    "method": "tools/call",
    "params": {
      "name": "agent-management_agent_list",
      "arguments": {}
    },
    "id": 1
  }'
```

**Response:**

```json
{
  "structuredContent": {
    "agents": [
      { "id": "ua_abc123", "name": "Research Assistant", "description": "..." },
      { "id": "ua_def456", "name": "Code Reviewer", "description": "..." }
    ]
  }
}
```

---

## agent_read

Get the full configuration of a specific agent, including its instructions, server access, and metadata.

**Parameters:**

| Parameter | Type | Required | Description |
| --- | --- | --- | --- |
| `agentId` | string | Yes | ID of the agent to retrieve (e.g. `ua_abc123`) |

**Response fields:**

| Field | Type | Description |
| --- | --- | --- |
| `id` | string | Agent ID |
| `name` | string | Agent name |
| `description` | string | Agent description |
| `instructions` | string | Agent system prompt |
| `servers` | object[] | MCP servers configuration |
| `workflows` | object[] | Workflows configuration |
| `createdDate` | string | Creation timestamp |
| `lastModified` | string | Last modification timestamp |
| `version` | number | Version number |

<Expandable title="inputSchema">

```json
{
  "type": "object",
  "properties": {
    "agentId": { "type": "string", "description": "ID of the agent to retrieve" }
  },
  "required": ["agentId"]
}
```

</Expandable>

**Example:**

```bash
curl -s -X POST "https://mcp.app.pinkfish.ai/agent-management" \
  -H "Authorization: Bearer $PINKFISH_TOKEN" \
  -H "Content-Type: application/json" \
  -H "Accept: application/json" \
  -d '{
    "jsonrpc": "2.0",
    "method": "tools/call",
    "params": {
      "name": "agent-management_agent_read",
      "arguments": { "agentId": "ua_abc123" }
    },
    "id": 1
  }'
```

**Response:**

```json
{
  "structuredContent": {
    "id": "ua_abc123",
    "name": "Research Assistant",
    "description": "An agent that researches topics and summarizes findings",
    "instructions": "You are a research assistant...",
    "servers": [],
    "workflows": [],
    "createdDate": "2026-02-15T10:00:00Z",
    "lastModified": "2026-02-15T10:00:00Z",
    "version": 1
  }
}
```

---

## agent_update

Update an existing agent. Only the fields you provide are changed — omitted fields remain unchanged.

**Parameters:**

| Parameter | Type | Required | Description |
| --- | --- | --- | --- |
| `agentId` | string | Yes | ID of the agent to update |
| `name` | string | No | Updated display name |
| `description` | string | No | Updated description |
| `instructions` | string | No | Updated system prompt |
| `outputSchema` | string | No | Updated JSON schema for structured output |
| `servers` | object[] | No | Updated MCP server access. **Replaces** existing servers entirely. |
| `workflows` | object[] | No | Updated workflows configuration |

<Expandable title="inputSchema">

```json
{
  "type": "object",
  "properties": {
    "agentId": { "type": "string", "description": "ID of the agent to update" },
    "name": { "type": "string", "description": "Updated display name" },
    "description": { "type": "string", "description": "Updated description" },
    "instructions": { "type": "string", "description": "Updated system instructions/prompt" },
    "outputSchema": { "type": "string", "description": "Updated JSON schema for agent output" },
    "servers": {
      "type": "array",
      "description": "Updated MCP servers configuration (replaces existing)",
      "items": {
        "type": "object",
        "properties": {
          "name": { "type": "string", "description": "Server name" },
          "tools": { "type": "object", "description": "Map of tool names to config objects" }
        }
      }
    },
    "workflows": {
      "type": "array",
      "description": "Updated workflows configuration",
      "items": {
        "type": "object",
        "properties": {
          "triggerName": { "type": "string" },
          "workflowName": { "type": "string" },
          "triggerUrl": { "type": "string" },
          "triggerApiKey": { "type": "string" }
        }
      }
    }
  },
  "required": ["agentId"]
}
```

</Expandable>

**Example:**

```bash
curl -s -X POST "https://mcp.app.pinkfish.ai/agent-management" \
  -H "Authorization: Bearer $PINKFISH_TOKEN" \
  -H "Content-Type: application/json" \
  -H "Accept: application/json" \
  -d '{
    "jsonrpc": "2.0",
    "method": "tools/call",
    "params": {
      "name": "agent-management_agent_update",
      "arguments": {
        "agentId": "ua_abc123",
        "instructions": "You are an updated research assistant with new capabilities."
      }
    },
    "id": 1
  }'
```

**Response:** Returns the full updated agent object (same shape as `agent_read`).

---

## agent_invoke

Send a message to an agent and get a response. This is the primary way to interact with agents.

- **Without `chatId`**: Starts a new conversation. The response includes a `chatId` you can use to continue.
- **With `chatId`**: Continues an existing conversation with full message history.

**Parameters:**

| Parameter | Type | Required | Description |
| --- | --- | --- | --- |
| `agentId` | string | Yes | ID of the agent to invoke |
| `message` | string | Yes | The message to send to the agent |
| `chatId` | string | No | Chat ID to continue an existing conversation. If omitted, a new conversation is started. |
| `mode` | string | No | Agent mode: `"action_agent"` (GPT-based, default) or `"claude_agent"` (Claude-based) |
| `messagesInResponse` | boolean | No | If `true`, includes the full message history in the response |

**Response fields:**

| Field | Type | Description |
| --- | --- | --- |
| `success` | boolean | Whether the invocation was successful |
| `response` | string | The agent's response message |
| `chatId` | string | Chat ID for continuing the conversation |
| `agentId` | string | ID of the invoked agent |
| `messages` | object[] | Full message history (only if `messagesInResponse` was `true`) |

<Expandable title="inputSchema">

```json
{
  "type": "object",
  "properties": {
    "agentId": { "type": "string", "description": "ID of the agent to invoke" },
    "message": { "type": "string", "description": "The message or task to send to the agent" },
    "chatId": { "type": "string", "description": "Optional chat ID to continue a previous conversation" },
    "mode": {
      "type": "string",
      "enum": ["action_agent", "claude_agent"],
      "description": "Agent mode: action_agent (GPT-based, default) or claude_agent (Claude-based)"
    },
    "messagesInResponse": { "type": "boolean", "description": "If true, includes full message history in response" }
  },
  "required": ["agentId", "message"]
}
```

</Expandable>

<Expandable title="outputSchema">

```json
{
  "type": "object",
  "properties": {
    "success": { "type": "boolean", "description": "Whether the agent invocation was successful" },
    "response": { "type": "string", "description": "The agent's response message" },
    "chatId": { "type": "string", "description": "Chat ID for continuing the conversation" },
    "agentId": { "type": "string", "description": "ID of the invoked agent" },
    "messages": { "type": "array", "description": "Full message history if messagesInResponse was true" }
  }
}
```

</Expandable>

**Example — start a new conversation:**

```bash
curl -s -X POST "https://mcp.app.pinkfish.ai/agent-management" \
  -H "Authorization: Bearer $PINKFISH_TOKEN" \
  -H "Content-Type: application/json" \
  -H "Accept: application/json" \
  -d '{
    "jsonrpc": "2.0",
    "method": "tools/call",
    "params": {
      "name": "agent-management_agent_invoke",
      "arguments": {
        "agentId": "ua_abc123",
        "message": "Research the latest developments in quantum computing"
      }
    },
    "id": 1
  }'
```

**Response:**

```json
{
  "structuredContent": {
    "success": true,
    "response": "Here are the latest developments in quantum computing...",
    "chatId": "auto_xyz789",
    "agentId": "ua_abc123"
  }
}
```

**Example — continue the conversation:**

```bash
curl -s -X POST "https://mcp.app.pinkfish.ai/agent-management" \
  -H "Authorization: Bearer $PINKFISH_TOKEN" \
  -H "Content-Type: application/json" \
  -H "Accept: application/json" \
  -d '{
    "jsonrpc": "2.0",
    "method": "tools/call",
    "params": {
      "name": "agent-management_agent_invoke",
      "arguments": {
        "agentId": "ua_abc123",
        "chatId": "auto_xyz789",
        "message": "Can you focus on error correction specifically?"
      }
    },
    "id": 1
  }'
```

---

## chat_create

Create a new chat session for an agent without sending a message. Useful when you need a `chatId` before invoking the agent — for example, to use with [code execution artifacts](/api-reference/platform/code-execution#working-with-artifacts).

<Note>
  You don't always need `chat_create`. Calling `agent_invoke` without a `chatId` automatically creates a new chat and returns its ID.
</Note>

**Parameters:**

| Parameter | Type | Required | Description |
| --- | --- | --- | --- |
| `agentId` | string | Yes | ID of the agent to create a chat for |
| `name` | string | No | Display name for the chat. Defaults to `"Chat with agent <agentId>"`. |

**Response fields:**

| Field | Type | Description |
| --- | --- | --- |
| `id` | string | Chat ID (use as `chatId` in `agent_invoke`) |
| `agentId` | string | Agent ID this chat is associated with |
| `name` | string | Chat display name |
| `createdDate` | string | Creation timestamp |

<Expandable title="inputSchema">

```json
{
  "type": "object",
  "properties": {
    "agentId": { "type": "string", "description": "ID of the agent to create a chat for" },
    "name": { "type": "string", "description": "Optional display name for the chat" }
  },
  "required": ["agentId"]
}
```

</Expandable>

<Expandable title="outputSchema">

```json
{
  "type": "object",
  "properties": {
    "id": { "type": "string", "description": "Chat ID" },
    "agentId": { "type": "string", "description": "Associated agent ID" },
    "name": { "type": "string", "description": "Chat display name" },
    "createdDate": { "type": "string", "description": "Creation timestamp" }
  }
}
```

</Expandable>

**Example:**

```bash
curl -s -X POST "https://mcp.app.pinkfish.ai/agent-management" \
  -H "Authorization: Bearer $PINKFISH_TOKEN" \
  -H "Content-Type: application/json" \
  -H "Accept: application/json" \
  -d '{
    "jsonrpc": "2.0",
    "method": "tools/call",
    "params": {
      "name": "agent-management_chat_create",
      "arguments": {
        "agentId": "ua_abc123",
        "name": "Quantum Computing Research"
      }
    },
    "id": 1
  }'
```

**Response:**

```json
{
  "structuredContent": {
    "id": "auto_xyz789",
    "agentId": "ua_abc123",
    "name": "Quantum Computing Research",
    "createdDate": "2026-02-15T10:30:00Z"
  }
}
```

---

## chat_list

List all chat sessions, optionally filtered to a specific agent.

**Parameters:**

| Parameter | Type | Required | Description |
| --- | --- | --- | --- |
| `agentId` | string | No | Filter to chats for this agent only. If omitted, returns all chats. |

**Response fields:**

| Field | Type | Description |
| --- | --- | --- |
| `chats` | object[] | Array of chat summaries |
| `chats[].id` | string | Chat ID |
| `chats[].agentId` | string | Associated agent ID |
| `chats[].name` | string | Chat display name |
| `chats[].createdDate` | string | Creation timestamp |
| `chats[].lastModified` | string | Last modification timestamp |

<Expandable title="inputSchema">

```json
{
  "type": "object",
  "properties": {
    "agentId": { "type": "string", "description": "Optional agent ID to filter chats" }
  }
}
```

</Expandable>

<Expandable title="outputSchema">

```json
{
  "type": "object",
  "properties": {
    "chats": {
      "type": "array",
      "description": "List of chats",
      "items": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "description": "Chat ID" },
          "agentId": { "type": "string", "description": "Associated agent ID" },
          "name": { "type": "string", "description": "Chat display name" },
          "createdDate": { "type": "string", "description": "Creation timestamp" },
          "lastModified": { "type": "string", "description": "Last modification timestamp" }
        }
      }
    }
  }
}
```

</Expandable>

**Example:**

```bash
curl -s -X POST "https://mcp.app.pinkfish.ai/agent-management" \
  -H "Authorization: Bearer $PINKFISH_TOKEN" \
  -H "Content-Type: application/json" \
  -H "Accept: application/json" \
  -d '{
    "jsonrpc": "2.0",
    "method": "tools/call",
    "params": {
      "name": "agent-management_chat_list",
      "arguments": { "agentId": "ua_abc123" }
    },
    "id": 1
  }'
```

**Response:**

```json
{
  "structuredContent": {
    "chats": [
      {
        "id": "auto_xyz789",
        "agentId": "ua_abc123",
        "name": "Quantum Computing Research",
        "createdDate": "2026-02-15T10:30:00Z",
        "lastModified": "2026-02-15T11:00:00Z"
      }
    ]
  }
}
```

---

## chat_reset_conversation

Clear all messages in a chat. The chat itself is preserved and can be reused — only the conversation history is wiped.

**Parameters:**

| Parameter | Type | Required | Description |
| --- | --- | --- | --- |
| `chatId` | string | Yes | ID of the chat to reset |

**Response fields:**

| Field | Type | Description |
| --- | --- | --- |
| `success` | boolean | Whether the conversation was successfully reset |
| `chatId` | string | ID of the chat that was reset |

<Expandable title="inputSchema">

```json
{
  "type": "object",
  "properties": {
    "chatId": { "type": "string", "description": "ID of the chat whose conversation history should be reset" }
  },
  "required": ["chatId"]
}
```

</Expandable>

<Expandable title="outputSchema">

```json
{
  "type": "object",
  "properties": {
    "success": { "type": "boolean", "description": "Whether the conversation was successfully reset" },
    "chatId": { "type": "string", "description": "ID of the chat that was reset" }
  }
}
```

</Expandable>

**Example:**

```bash
curl -s -X POST "https://mcp.app.pinkfish.ai/agent-management" \
  -H "Authorization: Bearer $PINKFISH_TOKEN" \
  -H "Content-Type: application/json" \
  -H "Accept: application/json" \
  -d '{
    "jsonrpc": "2.0",
    "method": "tools/call",
    "params": {
      "name": "agent-management_chat_reset_conversation",
      "arguments": { "chatId": "auto_xyz789" }
    },
    "id": 1
  }'
```

**Response:**

```json
{
  "structuredContent": {
    "success": true,
    "chatId": "auto_xyz789"
  }
}
```

---

## chat_list_artifacts

List all artifacts (files) associated with a chat. Artifacts are created by agents during [code execution](/api-reference/platform/code-execution) via `createArtifact()`, or uploaded by users.

**Parameters:**

| Parameter | Type | Required | Description |
| --- | --- | --- | --- |
| `chatId` | string | Yes | ID of the chat to list artifacts for |

**Response fields:**

| Field | Type | Description |
| --- | --- | --- |
| `artifacts` | object[] | Array of artifact metadata |
| `artifacts[].id` | string | Artifact ID |
| `artifacts[].sourceFileName` | string | Original file name |
| `artifacts[].mimeType` | string | MIME type (e.g. `application/pdf`) |
| `artifacts[].sourceSizeBytes` | number | File size in bytes |
| `artifacts[].url` | string | Signed download URL |
| `artifacts[].fileType` | string | Artifact type classification |
| `artifacts[].version` | number | Version number |
| `artifacts[].versionDate` | string | Last update timestamp |

<Expandable title="inputSchema">

```json
{
  "type": "object",
  "properties": {
    "chatId": { "type": "string", "description": "ID of the chat to list artifacts for" }
  },
  "required": ["chatId"]
}
```

</Expandable>

<Expandable title="outputSchema">

```json
{
  "type": "object",
  "properties": {
    "artifacts": {
      "type": "array",
      "description": "List of artifacts associated with the chat",
      "items": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "description": "Artifact ID" },
          "sourceFileName": { "type": "string", "description": "Original file name" },
          "mimeType": { "type": "string", "description": "MIME type of the artifact" },
          "sourceSizeBytes": { "type": "number", "description": "Artifact size in bytes" },
          "url": { "type": "string", "description": "Signed URL to download the artifact" },
          "fileType": { "type": "string", "description": "Artifact type classification" },
          "version": { "type": "number", "description": "Artifact version number" },
          "versionDate": { "type": "string", "description": "Last update timestamp" }
        }
      }
    }
  }
}
```

</Expandable>

**Example:**

```bash
curl -s -X POST "https://mcp.app.pinkfish.ai/agent-management" \
  -H "Authorization: Bearer $PINKFISH_TOKEN" \
  -H "Content-Type: application/json" \
  -H "Accept: application/json" \
  -d '{
    "jsonrpc": "2.0",
    "method": "tools/call",
    "params": {
      "name": "agent-management_chat_list_artifacts",
      "arguments": { "chatId": "auto_xyz789" }
    },
    "id": 1
  }'
```

**Response:**

```json
{
  "structuredContent": {
    "artifacts": [
      {
        "id": "file_abc",
        "sourceFileName": "report.pdf",
        "mimeType": "application/pdf",
        "sourceSizeBytes": 45230,
        "url": "https://...",
        "fileType": "document",
        "version": 1,
        "versionDate": "2026-02-15T11:00:00Z"
      }
    ]
  }
}
```
